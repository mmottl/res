<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>DefStrat (res.Res.DefStrat)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../../index.html">res</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">Res.DefStrat</span></h1></header><div class="doc"><p>Default strategy for resizable datastructures</p><p><code class="code">type t</code> is a triple <code class="code">waste, shrink_trig, min_size</code>, where
<code class="code">waste</code> (default: 1.5) indicates by how much the array should
be grown in excess when reallocation is triggered, <code class="code">shrink_trig</code>
(default: 0.5) at which percentage of excess elements it should be
shrinked and <code class="code">min_size</code> (default: 16 elements) is the minimum size
of the resizable array.</p></div><div class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>t</code><code><span class="keyword"> = </span>float<span class="keyword"> * </span>float<span class="keyword"> * </span>int</code><code></code></div><div class="doc"><p>The abstract type of strategies.</p></div></div><div class="spec val" id="val-default"><a href="#val-default" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>default : <a href="index.html#type-t">t</a></code></div><div class="doc"><p>Default strategy of this strategy implementation.</p></div></div><div class="spec val" id="val-grow"><a href="#val-grow" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>grow : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> int</code></div><div class="doc"><p><code class="code">grow strat new_len</code></p><ul class="at-tag"><li><p><span class="at-tag return">Returns</span> the new real length of some contiguous
datastructure using strategy <code class="code">strat</code> given new virtual length
<code class="code">new_len</code>. The user should then use this new real length to resize
the datastructure.</p><p>Be careful, the new (real) length <b>must</b> be larger than the new
virtual length, otherwise your program will crash!</p></li></ul></div></div><div class="spec val" id="val-shrink"><a href="#val-shrink" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>shrink : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> real_len:int <span class="keyword">&#8209;&gt;</span> new_len:int <span class="keyword">&#8209;&gt;</span> int</code></div><div class="doc"><p><code class="code">shrink strat ~real_len ~new_len</code></p><ul class="at-tag"><li><p><span class="at-tag return">Returns</span> the new real length
of a resizable datastructure given its current real length
<code class="code">real_len</code> and its required new virtual length <code class="code">new_len</code>
wrt. strategy <code class="code">strat</code>. The user should then use this new real
length to resize the datastructure. If <code class="code">-1</code> is returned, it is
not necessary to resize.</p><p>Be careful, the new (real) length <b>must</b> be larger than the new
(virtual) length, otherwise your program may crash!</p></li></ul></div></div></body></html>